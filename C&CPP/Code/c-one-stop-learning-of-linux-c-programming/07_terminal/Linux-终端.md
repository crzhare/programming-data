# 终端、作业控制与守护进程

## 终端

人和机器是两个相互独立的实体。当人使用机器时，必须借助某种接口(interface)才能与机器交流信息。台式机的接口包括显示器、键盘、鼠标、扬声器、麦克风等。CPU、内存、硬盘、光驱、显卡、网卡等其他硬件属于主机(host)。Unix和Linux把这种使得人和机器可以交互的接口称为终端。

终端具有两个基本功能：向主机输入信息和向外部输出信息。所以终端可以分为输入设备和输出设备。台式机的输入设备通常包括键盘、鼠标、麦克风，输出设备包括显示器、扬声器等。

在UNIX系统中，用户通过终端登录系统后得到一个 Shell 进程，这个终端成为 Shell 进程的控制终端（Controlling Terminal），控制终端是保存在 PCB 中的信息，而 fork 会复制 PCB 中的信息，因此由 Shell 进程启动的其它进程的控制终端也是这个终端。默认情况下（没有重定向），每个进程的标准输入、标准输出和标准错误输出都指向控制终端，进程从标准输入读也就是读用户的键盘输入，进程往标准输出或标准错误输出写也就是输出到显示器上。在控制终端输入一些特殊的控制键可以给前台进程发信号，例如 `Ctrl-C`表示 SIGINT，`Ctrl-\`表示 SIGQUIT。

参考：

- [维基百科：终端](https://zh.wikipedia.org/wiki/%E7%B5%82%E7%AB%AF)
- [你真的知道什么是终端吗？](https://www.linuxdashen.com/%E4%BD%A0%E7%9C%9F%E7%9A%84%E7%9F%A5%E9%81%93%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%88%E7%AB%AF%E5%90%97%EF%BC%9F)
- [Linux C编程一站式学习：第 34 章 终端](https://akaedu.github.io/book/ch34s01.html)

## 作业控制

Shell分前后台来控制的不是进程而是作业（Job）或者进程组（Process Group）。一个前台作业可以由多个进程组成，一个后台作业也可以由多个进程组成，Shell可以同时运行一个前台作业和任意多个后台作业，这称为作业控制（Job Control）。

具体参考[Linux C编程一站式学习：第 34 章 作业控制](https://akaedu.github.io/book/ch34s02.html)

## 守护进程

Linux 系统启动时会启动很多系统服务进程，这些系统服务进程没有控制终端，不能直接和用户交互。其它进程都是在用户登录或运行程序时创建，在运行结束或用户注销时终止，但系统服务进程不受用户登录注销的影响，它们一直在运行着。这种进程有一个名称叫守护进程（Daemon）。

具体参考[Linux C编程一站式学习：第 34 章 守护进程](https://akaedu.github.io/book/ch34s03.html)
